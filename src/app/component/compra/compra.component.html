<section>
<div class="container my-lg-5">
    <div class="row">
        <h3 class="fw-bold">Resumen de tu compra</h3>
        <hr>
        <div class="col-12 col-lg-8">
            <section  id="lista-productos">
            @for (item of dataCarrito; track item._id) {
                <div class="card d-flex justify-content-center align-content-center">
                <div class="imgProducto d-flex justify-content-center align-content-center" [style]="'background: url('+item.imagen+')'">
                  <div class="nombreDesc my-auto fs-4">
                    <p class="my-auto me-1">{{item.nombre_producto}}</p>
                    <p class="my-auto">{{item.descripcion}}</p>
                  </div>
                    <p class="px-lg-1 py-lg-5 my-auto fs-4">$ {{item.precio | numberFormat}}</p>
                    <button (click)="eliminarProducto(item._id)" class="ms-auto h-25 my-auto me-2 border-0 bg-transparent text-danger"><i class="fa-solid fa-trash-can"></i></button>
                </div>

                </div>
            }
            </section>
            <div class="d-flex justify-content-end">
            <button type="button" (click)="regresarcompra()" class="btn btn-primary px-4 py-3 fw-bold" id="btn-regresar-carro">Regresar a compra</button>
                <button type="button" (click)="eliminarCarrito()" class="btn btn-danger px-4 py-3 fw-bold" id="btn-borrar-carro">Eliminar carrito</button>
            </div>
        </div>
        <div class="col-12 col-lg-4">
            <div class="card mt-4">
                <ul class="list-group list-group-flush">
                    <li class="list-group-item d-flex justify-content-center align-items-start py-3 flex-column">
                        <h6 class="m-0 d-flex justify-content-between w-100 px-4">
                            <span class="fw-bold">Total de productos:</span><span>{{cantidadproductos}}</span>
                        </h6>
                    </li>
                    <li class="list-group-item d-flex justify-content-center align-items-start py-3 flex-column">
                        <h6 class="m-0 d-flex justify-content-between w-100 px-4">
                            <span class="fw-bold">Descuentos:</span><span>$0</span>
                        </h6>
                    </li>
                    <li class="list-group-item d-flex justify-content-center align-items-start py-3 px-5 flex-column">
                        <h6 class="m-0 pb-3 fw-bold">
                            Método de envió
                        </h6>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="radioMetodoEnvio" id="envioNormal">
                            <label class="form-check-label" for="envioNormal">
                                Envió normal - 2 a 5 Dias hábiles
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="radioMetodoEnvio" id="envioPrioritario" checked>
                            <label class="form-check-label" for="envioPrioritario">
                                Envió prioritario - 24 horas ($5.000)
                            </label>
                        </div>
                    </li>
                    <li class="list-group-item d-flex justify-content-center align-items-start py-3 flex-column">
                        <h3 class="m-0 d-flex justify-content-between w-100">
                            <span>Total a pagar:</span>
                            <span>$ {{totalprecio | numberFormat}}</span>
                        </h3>
                    </li>

                </ul>


            </div>
            <div class="card mt-3 p-4">
                <h5 class="mb-4">Método de pago</h5>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item d-flex justify-content-center align-items-start flex-column p-0">
                        <div class="form-check pb-2 pt-4">
                            <input class="form-check-input" type="radio" name="radioMetodoPago" id="pagoContraentrega">
                            <label class="form-check-label h5" for="pagoContraentrega">
                                <div class="h5">Pago contraentrega</div>
                                <i class="fa-solid fa-motorcycle"></i>
                            </label>
                        </div>
                        <div class="form-check py-2">
                            <input class="form-check-input" type="radio" name="radioMetodoPago" id="pagoTransferencia">
                            <label class="form-check-label h5" for="pagoTransferencia">
                                <div class="h5">Transferencia bancaria</div>
                                <i class="fa-solid fa-building-columns"></i>
                            </label>
                        </div>
                        <div class="form-check py-2">
                            <input class="form-check-input" type="radio" name="radioMetodoPago" id="pagoTC">
                            <label class="form-check-label" for="pagoTC">
                                <div class="d-flex justify-content-between flex-column">
                                    <div class="h5">Tarjeta de crédito</div>
                                    <img class="mt-2" src="assests/img/metodos.webp" alt="">
                                </div>
                            </label>
                        </div>
                    </li>
                </ul>
            </div>
            <button class="btn btnPagar btn-primary mt-3 fw-bold w-100 py-3" (click)="pagocarrito()">Proceder al pago</button>
        </div>
    </div>
</div>
</section>
